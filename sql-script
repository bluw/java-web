drop table LineOrders;
drop table Orders;
drop table Possession;
drop table TranslationsCategory;
drop table TranslationsCountry;
drop table Languages;
drop table Category;
drop table Client;
drop table Keyboard;
drop table Country;


create table Category (
    label varchar(10) not null,
    primary key (label)
);

create table Possession (
    ID_possession  INT GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
    FK_category varchar(10) not null,
    FK_keyboard INT not null,
    primary key (ID_possession)
);

create table Keyboard (
    ID_keyboard INT GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
    keyboardName varchar(50) not null,
    price numeric(5,2) not null,
    weight numeric(4,3) not null,
    led boolean default false not null,
    longeur numeric(4,2) not null,
    layout varchar(4) not null,
    switches varchar(20) not null,
    brand varchar(50) not null,
    urlImage varchar(200),
    primary key (ID_keyboard)
);

create table Country (
    label varchar(5) not null,
    shippingCost numeric(4,2) not null,
    primary key (label)
);

create table Client (
    ID_client INT GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
    lastName varchar(50) not null,
    firstName varchar(50) not null,
    email varchar(50) not null,
    password varchar(200) not null,
    phone varchar(12) default null,
    street varchar(50) not null,
    houseNum numeric(4) not null,
    city varchar(50) not null,
    postCode numeric(6) not null,
    FK_country varchar(5) not null,
    primary key (ID_client),
    foreign key (FK_country) references Country(label),
    constraint unique_email unique(email),
    constraint unique_phone unique(phone)
);

create table Orders (
    ID_orders INT GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
    ordersDate date not null,
    FK_client INT not null,
    primary key (ID_orders),
    foreign key (FK_client) references Client (ID_client)
);

create table LineOrders (
    ID_lineOrders INT GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
    quantity numeric(2) not null,
    price numeric(5,2) not null,
    FK_orders INT not null,
    FK_keyboard INT not null,
    primary key (ID_lineOrders),
    foreign key (FK_keyboard) references Keyboard(ID_keyboard),
    foreign key (FK_orders) references Orders(ID_orders)
);


create table Languages (
    label varchar(2) not null,
    primary key (label)
);


create table TranslationsCategory (
    ID_translation INT GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
    description varchar(150) not null,
    FK_language varchar(2) not null,
    FK_category varchar(10) not null,
    primary key (ID_translation),
    foreign key (FK_language) references Languages(label),
    foreign key (FK_category) references Category(label)
);

create table TranslationsCountry (
    ID_translation INT GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
    description varchar(150) not null,
    FK_language varchar(2) not null,
    FK_country varchar(5) not null,
    primary key (ID_translation),
    foreign key (FK_language) references Languages(label),
    foreign key (FK_country) references Country(label)
);

INSERT INTO CED.LANGUAGES (LABEL) VALUES ('fr');
INSERT INTO CED.LANGUAGES (LABEL) VALUES ('en');
INSERT INTO CED.CATEGORY ("LABEL") VALUES ('GAMING');
INSERT INTO CED.CATEGORY ("LABEL") VALUES ('TYPING');
INSERT INTO CED.COUNTRY (SHIPPINGCOST, LABEL) VALUES (1.50, 'BE');
INSERT INTO CED.COUNTRY (SHIPPINGCOST, LABEL) VALUES (3.50, 'FR');
INSERT INTO CED.COUNTRY (SHIPPINGCOST, LABEL) VALUES (2.50, 'LUX');
INSERT INTO CED.COUNTRY (SHIPPINGCOST, LABEL) VALUES (4.50, 'GER');
INSERT INTO CED.COUNTRY (SHIPPINGCOST, LABEL) VALUES (3.00, 'NL');;
INSERT INTO CED.KEYBOARD (KEYBOARDNAME, PRICE, WEIGHT, LED, LONGEUR, LAYOUT, SWITCHES, BRAND, URLIMAGE) VALUES ('Choc mini', 84.99, 0.730, false, 31.50, 'US', 'Cherry MX-Brown', 'Noppoo','noImage');
INSERT INTO CED.KEYBOARD (KEYBOARDNAME, PRICE, WEIGHT, LED, LONGEUR, LAYOUT, SWITCHES, BRAND, URLIMAGE) VALUES ('BlackWidow Chroma', 199.99, 1.500, true, 47.50, 'US', 'Razer Green', 'Razer', 'noImage');
INSERT INTO CED.TRANSLATIONSCATEGORY (DESCRIPTION, FK_LANGUAGE, FK_CATEGORY) VALUES ('Jeux', 'fr', 'GAMING');
INSERT INTO CED.TRANSLATIONSCATEGORY (DESCRIPTION, FK_LANGUAGE, FK_CATEGORY) VALUES ('Gaming', 'en', 'GAMING');
INSERT INTO CED.TRANSLATIONSCATEGORY (DESCRIPTION, FK_LANGUAGE, FK_CATEGORY) VALUES ('Dactylographie', 'fr', 'TYPING');
INSERT INTO CED.TRANSLATIONSCATEGORY (DESCRIPTION, FK_LANGUAGE, FK_CATEGORY) VALUES ('Typing', 'en', 'TYPING');
INSERT INTO CED.TRANSLATIONSCOUNTRY (DESCRIPTION, FK_LANGUAGE, FK_COUNTRY) VALUES ('Belgique', 'fr', 'BE');
INSERT INTO CED.TRANSLATIONSCOUNTRY (DESCRIPTION, FK_LANGUAGE, FK_COUNTRY) VALUES ('Belgium', 'en', 'BE');
INSERT INTO CED.TRANSLATIONSCOUNTRY (DESCRIPTION, FK_LANGUAGE, FK_COUNTRY) VALUES ('France', 'fr', 'FR');
INSERT INTO CED.TRANSLATIONSCOUNTRY (DESCRIPTION, FK_LANGUAGE, FK_COUNTRY) VALUES ('France', 'en', 'FR');
INSERT INTO CED.TRANSLATIONSCOUNTRY (DESCRIPTION, FK_LANGUAGE, FK_COUNTRY) VALUES ('Luxembourg', 'fr', 'LUX');
INSERT INTO CED.TRANSLATIONSCOUNTRY (DESCRIPTION, FK_LANGUAGE, FK_COUNTRY) VALUES ('Luxemburg', 'en', 'LUX');
INSERT INTO CED.TRANSLATIONSCOUNTRY (DESCRIPTION, FK_LANGUAGE, FK_COUNTRY) VALUES ('Allemagne', 'fr', 'GER');
INSERT INTO CED.TRANSLATIONSCOUNTRY (DESCRIPTION, FK_LANGUAGE, FK_COUNTRY) VALUES ('Germany', 'en', 'GER');
INSERT INTO CED.TRANSLATIONSCOUNTRY (DESCRIPTION, FK_LANGUAGE, FK_COUNTRY) VALUES ('Pays-Bas', 'fr', 'NL');
INSERT INTO CED.TRANSLATIONSCOUNTRY (DESCRIPTION, FK_LANGUAGE, FK_COUNTRY) VALUES ('Netherlands', 'en', 'NL');
INSERT INTO CED.CLIENT (LASTNAME, FIRSTNAME, EMAIL, PASSWORD, PHONE, STREET, HOUSENUM, CITY, POSTCODE, FK_COUNTRY) VALUES ('Moulin', 'Jean', 'jeandumoulin@cock.li', 'qwerty', '12345678', 'rue des chemins', 9, 'Namur', 5000, 'BE');
INSERT INTO CED.POSSESSION (FK_CATEGORY, FK_KEYBOARD) VALUES ('TYPING', 1);
INSERT INTO CED.POSSESSION (FK_CATEGORY, FK_KEYBOARD) VALUES ('GAMING', 2);
